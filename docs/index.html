<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Capital Form</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdn.prod.website-files.com/5e100b7a946b12ba33ac57ee/css/capital-international.shared.7eddfb2dd.min.css">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.1/css/bootstrap.min.css" integrity="sha512-siwe/oXMhSjGCwLn+scraPOWrJxHlUgMBMZXdPe2Tnk3I0x3ESCoLz7WZ5NTH6SZrywMY+PB1cjyqJ5jAluCOg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.9.1/font/bootstrap-icons.min.css" integrity="sha512-5PV92qsds/16vyYIJo3T/As4m2d8b6oWYfoqV+vtizRB6KhF1F9kYzWzQmsO6T3z3QG2Xdhrx7FQ+5R1LiQdUA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://challenges.cloudflare.com/turnstile/v0/api.js" defer></script>


<style>
  @import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap');

  body {
    font-family: 'Open Sans', sans-serif;
    background-color: #1b1529;
    color: #1A1A1A;
    margin: 0;
    padding: 2rem;
  }

  .capital-form {
    max-width: 600px;
    margin: 0 auto;
    background: #1b1529;
    padding: 2rem;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  }

  .capital-form label {
    display: block;
    margin-top: 1rem;
    font-weight: 600;
    color: #fff;
  }

  .capital-form input[type="text"],
  .capital-form input[type="email"],
  .capital-form input[type="tel"],
  .capital-form select {
    width: 100%;
    padding: 12px;
    margin-top: 0.5rem;
    border: 1px solid #eaeaeb;
    border-radius: 4px;
    box-sizing: border-box;
    font-size: 1rem;
    background-color: #fff;
  }

  .capital-form input[type="checkbox"] {
    margin-right: 0.5rem;
  }

  .capital-form .checkbox-label {
    display: flex;
    align-items: center;
    margin-top: 1.5rem;
    font-size: 0.95rem;
    color: #fff;
  }

  .capital-form button {
    margin-top: 2rem;
    background-color: #eaeaeb;
    color: white;
    padding: 12px 24px;
    border: none;
    border-radius: 4px;
    font-size: 1rem;
    cursor: pointer;
    transition: background-color 0.3s ease;
    color: #1b1529;
    margin-right: 1rem;
  }

  .capital-form button:hover {
    background-color: #bb8b41;
    color: #eaeaeb;
  }

  .capital-form a {
    color: #005EB8;
    text-decoration: underline;
  }

  .form-step {
    display: none;
  }

  .form-step.active {
    display: block;
  }
</style>

</head>
<body>
  <a href="mailto:first@mail.example; second@mail.example; third@mail.example">Send</a>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const steps = document.querySelectorAll(".form-step");
      let currentStep = 0;
      const formData = {};

      function showStep(index) {
        steps.forEach((step, i) => {
          step.classList.toggle("active", i === index);
        });
        currentStep = index;
      }

      document.querySelectorAll(".option-button").forEach(button => {
        button.addEventListener("click", function () {
          const field = this.getAttribute("data-field");
          const value = this.getAttribute("data-value");
          if (field) {
            formData[field] = value;
          }
          if (this.id === "back") {
            showStep(currentStep - 1);
          } else {
            showStep(currentStep + 1);
          }
        });
      });

      document.getElementById("capitalForm").addEventListener("submit", function (e) {
        e.preventDefault();
        formData.first_name = document.getElementById("first-name").value;
        formData.last_name = document.getElementById("last-name").value;
        formData.email = document.getElementById("email").value;
        formData.phone = document.getElementById("phone").value;
        formData.consent = document.getElementById("consent").checked;

        fetch("https://prod-150.westeurope.logic.azure.com:443/workflows/efdb47a6fe92463bbb3820d1165dae5e/triggers/manual/paths/invoke?api-version=2016-06-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=tOP6phwPfoOCP-uGuZsdEsSBUuy0rpS6M6ZjZ0NTtJM", {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify(formData)
        })
        .then(response => {
          if (response.ok) {
            alert("Form submitted successfully!");
            document.getElementById("capitalForm").reset();
            showStep(0);
          } else {
            return response.text().then(text => { throw new Error(text); });
          }
        })
        .catch(error => {
          alert("Submission failed: " + error.message);
        });
      });
    });
  </script>
  <form class="capital-form" id="capitalForm">
    <div class="form-step active" id="step-1">
      <div class="form-title"><label>Which service are you interested in?</label></div>
      <button type="button" class="option-button" data-value="Banking" data-field="service">Banking</button>
      <button type="button" class="option-button" data-value="Asset Management" data-field="service">Asset Management</button>
      <button type="button" class="option-button" data-value="Investment Platform" data-field="service">Investment Platform</button>
    </div>

    <div class="form-step" id="step-2">
      <div class="form-title"><label>You are looking to open an account for...</label></div>
      <button type="button" class="option-button" data-value="Yourself" data-field="scope">Yourself</button>
      <button type="button" class="option-button" data-value="Someone else" data-field="scope">Someone else</button>
      <div><button type="button" class="option-button" style="float: left;" id="back">Back</button></div>
    </div>

    <div class="form-step" id="step-3">
      <div class="form-title"><label>What is your expected investment amount?</label></div>
      <button type="button" class="option-button" data-value="Less than £50,000" data-field="amount">Less than £50,000</button>
      <button type="button" class="option-button" data-value="£50,000 - £250,000" data-field="amount">£50,000 - £250,000</button>
      <button type="button" class="option-button" data-value="£250,000 - £500,000" data-field="amount">£250,000 - £500,000</button>
      <button type="button" class="option-button" data-value="£500,000+" data-field="amount">£500,000+</button>
      <div><button type="button" class="option-button" style="float: left;" id="back">Back</button></div>
    </div>

    <div class="form-step" id="step-4">
      <div class="form-title"><label>Please provide your details</label></div>
      <label for="first-name">First name:</label>
      <input type="text" id="first-name" name="first_name" required>
      <label for="last-name">Last name:</label>
      <input type="text" id="last-name" name="last_name" required>
      <div><button type="button" class="option-button" style="float: left;" id="back">Back</button></div>
      <button type="button" class="option-button" id="next">Next</button>
    </div>

    <div class="form-step" id="step-5">
      <div class="form-title"><label>Please provide your contact details</label></div>
      <label for="email">Email address:</label>
      <input type="email" id="email" name="email" required>
      <label for="phone">Phone number:</label>
      <input type="tel" id="phone" name="phone">
      <label class="checkbox-label">
        <input type="checkbox" id="consent" name="consent" required>
        I agree to Capital International Group sending me communications, as described in the <a href="https://www.capital-iom.com/privacy-policy" target="_blank">Privacy &amp; Cookie Policy</a>.
      </label>
      <div class="cf-turnstile" data-sitekey="0x4AAAAAABq2rSdjpa7wACGC" data-callback="alert('hello')" data-theme="light"></div>
      <button type="button" class="option-button" id="back">Back</button>
      <button type="submit">Submit</button>
    </div>
  </form>

</body>
</html>
